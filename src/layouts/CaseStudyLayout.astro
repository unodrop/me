---
/**
 * CaseStudyLayout
 * 
 * Specialized layout for project case study detail pages. Extends BaseLayout with
 * case-study-specific structure and styling designed for presenting project narratives,
 * technical decisions, and impact metrics.
 * 
 * Features:
 * - Optimized reading width (800px max)
 * - Case study header with meta information and outcome summary
 * - Styled sections for different case study components
 * - Special styling for constraints, tech stack, and learnings lists
 * - Decision cards with reasoning and alternatives
 * - Impact metrics grid with quantitative and qualitative results
 * - Responsive design for mobile devices
 * 
 * Expected content structure:
 * - .case-study-header: Contains h1, meta info, and outcome summary
 * - .case-study-section: Individual sections (Problem, Solution, etc.)
 * - .decisions-list: Technical decision cards
 * - .impact-metrics: Quantitative metrics grid
 * - .back-link: Navigation back to projects list
 * 
 * Note: SEO meta tags should be handled by the SEO component in each page
 * using the "head" slot, not passed as props to this layout.
 * 
 * @component
 * 
 * @example
 * ```astro
 * ---
 * import CaseStudyLayout from '../layouts/CaseStudyLayout.astro';
 * import SEO from '../components/SEO.astro';
 * ---
 * 
 * <CaseStudyLayout>
 *   <SEO 
 *     slot="head"
 *     title="E-commerce Platform Redesign" 
 *     description="How we increased conversion by 45%"
 *   />
 *   <div class="case-study-header">
 *     <h1>E-commerce Platform Redesign</h1>
 *     <div class="case-study-meta">
 *       <span>Lead Developer</span>
 *       <span class="meta-separator">·</span>
 *       <span>2024</span>
 *     </div>
 *     <p class="outcome-summary">
 *       Increased conversion rate by 45% and reduced cart abandonment
 *     </p>
 *   </div>
 *   
 *   <div class="case-study-section">
 *     <h2>The Problem</h2>
 *     <p>Problem description...</p>
 *   </div>
 *   
 *   <div class="impact-metrics">
 *     <div class="metric-item">
 *       <div class="metric-value">45%</div>
 *       <div class="metric-label">Conversion Increase</div>
 *     </div>
 *   </div>
 * </CaseStudyLayout>
 * ```
 */

import BaseLayout from './BaseLayout.astro';
---

<BaseLayout>
  <slot name="head" slot="head" />
  <div class="case-study-layout">
    <slot />
  </div>

  <style>

    .case-study-layout {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--space-2xl) var(--space-lg);
    }

    .case-study-layout :global(.case-study-header) {
      margin-bottom: var(--space-3xl);
      padding-bottom: var(--space-2xl);
      border-bottom: 1px solid var(--color-border);
    }

    .case-study-layout :global(.case-study-header h1) {
      font-size: var(--font-size-5xl);
      margin-bottom: var(--space-md);
      font-weight: var(--font-weight-bold);
      letter-spacing: -0.02em;
      line-height: var(--line-height-tight);
    }

    .case-study-layout :global(.case-study-meta) {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-lg);
    }

    .case-study-layout :global(.meta-separator) {
      opacity: 0.5;
    }

    .case-study-layout :global(.outcome-summary) {
      font-size: var(--font-size-xl);
      line-height: var(--line-height-relaxed);
      color: var(--color-accent);
      font-weight: var(--font-weight-medium);
    }

    .case-study-layout :global(.case-study-section) {
      margin-bottom: var(--space-3xl);
    }

    .case-study-layout :global(.case-study-section h2) {
      font-size: var(--font-size-4xl);
      margin-bottom: var(--space-lg);
      font-weight: var(--font-weight-bold);
      letter-spacing: -0.01em;
    }

    .case-study-layout :global(.case-study-section p) {
      font-size: var(--font-size-lg);
      line-height: var(--line-height-relaxed);
      color: var(--color-text);
    }

    .case-study-layout :global(.constraints-list),
    .case-study-layout :global(.tech-stack-list),
    .case-study-layout :global(.learnings-list) {
      list-style: none;
      padding: 0;
    }

    .case-study-layout :global(.constraints-list li),
    .case-study-layout :global(.tech-stack-list li),
    .case-study-layout :global(.learnings-list li) {
      font-size: var(--font-size-base);
      line-height: var(--line-height-relaxed);
      padding: var(--space-sm) 0;
      padding-left: var(--space-lg);
      position: relative;
      color: var(--color-text-secondary);
    }

    .case-study-layout :global(.constraints-list li::before),
    .case-study-layout :global(.tech-stack-list li::before),
    .case-study-layout :global(.learnings-list li::before) {
      content: "→";
      position: absolute;
      left: 0;
      color: var(--color-accent);
    }

    .case-study-layout :global(.decisions-list) {
      display: flex;
      flex-direction: column;
      gap: var(--space-2xl);
    }

    .case-study-layout :global(.decision-item) {
      padding: var(--space-lg);
      border: 1px solid var(--color-border);
      border-radius: var(--border-radius-md);
      background: var(--color-bg-secondary);
    }

    .case-study-layout :global(.decision-title) {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-md);
      color: var(--color-text);
    }

    .case-study-layout :global(.decision-reasoning),
    .case-study-layout :global(.decision-alternatives) {
      margin-top: var(--space-md);
    }

    .case-study-layout :global(.decision-reasoning strong),
    .case-study-layout :global(.decision-alternatives strong) {
      display: block;
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      margin-bottom: var(--space-sm);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .case-study-layout :global(.decision-reasoning p) {
      font-size: var(--font-size-base);
      margin-top: var(--space-sm);
      color: var(--color-text-secondary);
    }

    .case-study-layout :global(.decision-alternatives ul) {
      list-style: none;
      padding: 0;
      margin-top: var(--space-sm);
    }

    .case-study-layout :global(.decision-alternatives li) {
      font-size: var(--font-size-base);
      line-height: var(--line-height-relaxed);
      padding: var(--space-xs) 0;
      padding-left: var(--space-md);
      position: relative;
      color: var(--color-text-secondary);
    }

    .case-study-layout :global(.decision-alternatives li::before) {
      content: "•";
      position: absolute;
      left: 0;
      color: var(--color-accent);
    }

    .case-study-layout :global(.impact-metrics) {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-lg);
      margin-bottom: var(--space-2xl);
      padding: var(--space-2xl);
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid var(--color-border);
      border-radius: var(--border-radius-md);
    }

    .case-study-layout :global(.metric-item) {
      text-align: center;
    }

    .case-study-layout :global(.metric-value) {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-accent);
      margin-bottom: var(--space-sm);
      line-height: var(--line-height-tight);
    }

    .case-study-layout :global(.metric-label) {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      line-height: var(--line-height-normal);
    }

    .case-study-layout :global(.impact-qualitative) {
      font-size: var(--font-size-lg);
      line-height: var(--line-height-relaxed);
    }

    .case-study-layout :global(.case-study-content) {
      margin-top: var(--space-3xl);
      font-size: var(--font-size-base);
      line-height: var(--line-height-relaxed);
    }

    @media (max-width: 768px) {
      .case-study-layout {
        padding: var(--space-xl) var(--space-md);
      }

      .case-study-layout :global(.case-study-header h1) {
        font-size: var(--font-size-4xl);
      }

      .case-study-layout :global(.outcome-summary) {
        font-size: var(--font-size-lg);
      }

      .case-study-layout :global(.case-study-section h2) {
        font-size: var(--font-size-3xl);
      }

      .case-study-layout :global(.case-study-section p) {
        font-size: var(--font-size-base);
      }

      .case-study-layout :global(.decision-item) {
        padding: var(--space-md);
      }

      .case-study-layout :global(.impact-metrics) {
        grid-template-columns: 1fr;
        padding: var(--space-lg);
      }

      .case-study-layout :global(.metric-value) {
        font-size: var(--font-size-3xl);
      }
    }
  </style>
</BaseLayout>

---
/**
 * ForwardLink Component
 * 
 * Displays a forward navigation link or text with a right-pointing arrow icon, commonly
 * used for CTAs and "Read more" actions. Can render as either a link (<a>) or span element
 * depending on whether an href is provided, making it flexible for use inside clickable cards.
 * 
 * Features a hover animation that moves the arrow right to indicate forward navigation.
 * Pairs with BackLink for consistent bidirectional navigation patterns.
 * 
 * @component
 * 
 * @example
 * ```astro
 * <!-- As a standalone link -->
 * <ForwardLink 
 *   text="View all projects" 
 *   href="/projects"
 *   variant="accent"
 * />
 * 
 * <!-- As text inside a clickable card (no href) -->
 * <a href="/article">
 *   <ForwardLink text="Read article" />
 * </a>
 * ```
 */

interface Props {
  /** Text displayed next to the arrow icon */
  text: string;
  
  /** Optional URL - if provided, renders as <a>, otherwise renders as <span> */
  href?: string;
  
  /** Color variant (default: 'accent') */
  variant?: 'accent' | 'muted';
  
  /** Additional CSS classes to apply */
  class?: string;
}

const { text, href, variant = 'accent', class: className } = Astro.props;
const Tag = href ? 'a' : 'span';
---

<Tag 
  href={href}
  class:list={['arrow-link', `arrow-link--${variant}`, className]}
>
  {text}
  <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.7071 5.29289C15.3166 4.90237 14.6834 4.90237 14.2929 5.29289C13.9024 5.68342 13.9024 6.31658 14.2929 6.70711L18.5858 11L3 11C2.44772 11 2 11.4477 2 12C2 12.5523 2.44772 13 3 13L18.5858 13L14.2929 17.2929C13.9024 17.6834 13.9024 18.3166 14.2929 18.7071C14.6834 19.0976 15.3166 19.0976 15.7071 18.7071L21.7071 12.7071C22.0976 12.3166 22.0976 11.6834 21.7071 11.2929L15.7071 5.29289Z"/>
  </svg>
</Tag>

<style>
  .arrow-link {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    transition: color 0.2s ease, opacity 0.2s ease;
  }

  .arrow-link--accent {
    color: var(--color-accent);
  }

  .arrow-link--muted {
    color: var(--color-text-muted);
  }

  .arrow-link--muted:hover {
    color: var(--color-text);
  }

  .arrow-icon {
    width: 14px;
    height: 14px;
    transition: transform 0.2s ease;
  }

  .arrow-link:hover .arrow-icon,
  :global(.card:hover) .arrow-link .arrow-icon,
  :global(a:hover) .arrow-link .arrow-icon {
    transform: translateX(3px);
  }
</style>
